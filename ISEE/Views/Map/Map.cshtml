@{
    ViewBag.Title = "Map";
}

<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<link href="~/Content/css/bootstrap-combined.min.css" rel="stylesheet" />
<script src="~/Scripts/Custom/jquery.timepicker.js"></script>
<link href="~/Scripts/Custom/jquery.timepicker.css" rel="stylesheet" />
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
<script src="//maps.google.com/maps/api/js?sensor=true" type="text/javascript"></script>
<script src="~/Scripts/Custom/jquery.timepicker.js"></script>
<link href="~/Scripts/Custom/jquery.timepicker.css" rel="stylesheet" />
<link href="~/Content/css/main.css" rel="stylesheet" />
<script src="~/Scripts/Custom/MapTab.js"></script>
<script src="~/Scripts/js/bootstrap-paginator.js"></script>


<div class="row">
    <div class="col-md-3" id="searchDiv" style="background-color: white; height: 500px; width: 300px; display: block; left: 25px">
        First Name<input id="txtfirstName" type="text" style="width:190px" />
        Last Name<input id="txtlastName" type="text" style="width:190px" />
        Number<input id="txtnumber" type="number" style="width:212px" />
        <input id="chkActive" type="checkbox" checked /> &nbsp;Active
        <br />
        <button type="button" onclick="SearchEmployee()" id="btnsearchEmployee">search</button>
        <div style="height:100px;overflow:auto;border:1px solid black">
            <table id="tblmapsearchgridEmployee" class="tg">
                <tr>
                    <th class="tg-z1n2"></th>
                    <th class="tg-z1n2">Last Name</th>
                    <th class="tg-z1n2">First Name</th>

                </tr>
            </table>
        </div>
        <br />
        <table id="selectedemployeeDiv" style="height:20px;border:1px solid black;background-color:yellow;display:none;width:200px"></table>
        Date &nbsp;&nbsp;&nbsp;&nbsp;<input id="dpDate" type="text" style="width:210px" />
        From Time<input id="txtfromTime" onfocus="ShowTime(this)" style="width:75px" />
        End Time&nbsp;&nbsp;<input id="txtendTime" onfocus="ShowTime(this)" style="width:75px" />
        <br /><br />
        <input id="chkshowwithCustomer" type="checkbox" />Show With Customer<br />
        <input type="radio" name="choices" value="RunWayShow"> Run Way Show
        <br>
        <input type="radio" name="choices" value="StopPoint">  Stop Point
        <br />
        <input type="radio" name="choices" value="LastPoint" checked> Last Point
        <br />
        <button type="button" onclick="ShowEmployeeDataOnMap()">Show</button>
        <button type="button" onclick="ShowCustomer()">Customer</button>
    </div>

    <div class="col-md-3" id="searchdivCustomer" style="background-color:white;height:500px;width:300px;display:none;left:25px;">
        State<input id="ddlstateinputcustomer" onblur="GetCitysByState()" type="text" style="width:190px" /><br />
        City<input id="ddlcityinputCustomer" onblur="GetStreetByCity()" type="text" style="width:190px" /><br />
        Street<input id="ddlstreetinputCustomer" onblur="GetBuildingsByCity()" type="text" style="width:190px" /><br />
        Building No<input id="ddlbuildinginputCustomer" onblur="GetSelectedBuildingLatLong()" type="text" width:190px" /><br />
        Company N<input id="txtcompanynameInputCustomer" type="text" style="width:190px" /><br />
        Customer No<input id="txtcustomernoInput" type="number" style="width:190px" /><br />
        Search <button type="button" onclick="SearchCustomers()" id="btnsearchCustomer">search</button>
        <br />
        <div style="height:100px;overflow:auto;border:1px solid black">
            <table id="tblmapsearchgridCustomer" class="tg">
                <tr>
                    <td class="tg-z1n2"></td>
                    <th class="tg-z1n2">First Name</th>
                    <th class="tg-z1n2">Last Name</th>
                </tr>
            </table>
        </div>
        <br />
        <table id="selectedCustomer" style="height:auto;border:1px solid black;background-color:yellow;display:none;width:200px"></table>
        <br /><br />
        <button type="button" onclick="ShowCustomerDataOnMap()">Show</button>
        <button type="button" onclick="ShowEmployee()">Employee</button>
    </div>

    <div class="col-md-9" id="mapMainDiv" style="min-width:350px;height:500px;float:left;left:32px;">
    </div>
</div>


<script type="text/javascript">
    debugger;
    var employeeID = '@Html.Raw(ViewBag.Empoyeeid)';
    var customerID = '@Html.Raw(ViewBag.CustomerID)';
    if (employeeID != "") {
        debugger;
        ShowEmployeeById(employeeID);
    }
    else if (customerID != "") {
        debugger;
        showCustomerById(customerID);
    }
    else {
        LoadMapByCurrentLogedUser();
    }

</script>